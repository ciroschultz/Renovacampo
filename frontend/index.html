<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Renova Campo - Agricultura Regenerativa para um Futuro Sustentável</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo">
                    <img src="imagens/logo renova campo.png" alt="Renova Campo" class="logo-img">
                </a>

                <nav class="nav">
                    <ul class="nav-list">
                        <li><a href="#inicio" class="active">Início</a></li>
                        <li><a href="#como-funciona">Como Funciona</a></li>
                        <li><a href="#terras">Terras Disponíveis</a></li>
                        <li><a href="#projetos">Mural de Projetos</a></li>
                        <li><a href="#simulador">Simulador</a></li>
                        <li><a href="pages/quem-somos.html">Quem Somos</a></li>
                        <li><a href="#depoimentos">Depoimentos</a></li>
                        <li><a href="pages/parcerias.html">Parcerias</a></li>
                    </ul>
                </nav>

                <div class="header-buttons">
                    <a href="pages/login.html" class="btn btn-outline-orange">Entrar</a>
                    <a href="pages/cadastro.html" class="btn btn-primary">Cadastrar</a>
                </div>

                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
            <ul>
                <li><a href="#inicio">Início</a></li>
                <li><a href="#como-funciona">Como Funciona</a></li>
                <li><a href="#terras">Terras Disponíveis</a></li>
                <li><a href="#projetos">Mural de Projetos</a></li>
                <li><a href="#simulador">Simulador</a></li>
                <li><a href="pages/quem-somos.html">Quem Somos</a></li>
                <li><a href="#depoimentos">Depoimentos</a></li>
                <li><a href="pages/parcerias.html">Parcerias</a></li>
            </ul>
            <div class="mobile-menu-buttons">
                <a href="pages/login.html" class="btn btn-outline-orange">Entrar</a>
                <a href="pages/cadastro.html" class="btn btn-primary">Cadastrar</a>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="inicio">
        <div class="hero-carousel">
            <div class="carousel-slides">
                <div class="carousel-slide active">
                    <img src="imagens/carrossel/carrocel-1.png" alt="Agricultura Regenerativa">
                </div>
                <div class="carousel-slide">
                    <img src="imagens/carrossel/carrocel-2.png" alt="Producao Sustentavel">
                </div>
                <div class="carousel-slide">
                    <img src="imagens/carrossel/carrocel-3.png" alt="Terras Ferteis">
                </div>
                <div class="carousel-slide">
                    <img src="imagens/carrossel/carrocel-4.png" alt="Investimento Verde">
                </div>
                <div class="carousel-slide">
                    <img src="imagens/carrossel/carrocel-5.png" alt="Futuro Sustentavel">
                </div>
                <div class="carousel-slide">
                    <img src="imagens/carrossel/carrocel-6.png" alt="Campo Renovado">
                </div>
            </div>
            <div class="carousel-overlay"></div>
        </div>

        <div class="container">
            <div class="hero-content">
                <h1>Agricultura Regenerativa<br>para um <span class="highlight">Futuro Sustentável</span></h1>
                <p class="hero-subtitle">Conectamos <strong>proprietários</strong> de terras ociosas com <strong>produtores</strong> e <strong>investidores</strong> comprometidos com práticas agrícolas sustentáveis.</p>

                <div class="hero-buttons">
                    <a href="pages/intro-terra.html" class="btn btn-primary">Tenho terra para arrendar</a>
                    <a href="pages/intro-projeto.html" class="btn btn-white">Quero Produzir</a>
                    <a href="pages/intro-investidor.html" class="btn btn-outline-green">Quero Investir</a>
                </div>
            </div>
        </div>

        <div class="carousel-indicators">
            <span class="indicator active" data-slide="0"></span>
            <span class="indicator" data-slide="1"></span>
            <span class="indicator" data-slide="2"></span>
            <span class="indicator" data-slide="3"></span>
            <span class="indicator" data-slide="4"></span>
            <span class="indicator" data-slide="5"></span>
        </div>
    </section>

    <!-- Como Funciona -->
    <section class="como-funciona" id="como-funciona">
        <div class="container">
            <h2 class="section-title">Como Funciona</h2>

            <div class="funciona-grid">
                <!-- Para Proprietários -->
                <div class="funciona-card">
                    <div class="funciona-icon">
                        <i class="fas fa-home"></i>
                    </div>
                    <h3>Para Proprietários de Terra</h3>
                    <p class="funciona-subtitle">Tenho terras disponíveis para arrendamento sustentável</p>
                    <ul class="funciona-steps">
                        <li><span class="step-number">1</span> Cadastre sua propriedade com detalhes sobre localização, tamanho e características</li>
                        <li><span class="step-number">2</span> Receba propostas de produtores interessados em práticas sustentáveis</li>
                        <li><span class="step-number">3</span> Escolha o melhor projeto e formalize o arrendamento com nossa assessoria</li>
                    </ul>
                    <a href="pages/intro-terra.html" class="btn btn-primary">Cadastrar Minha Terra</a>
                </div>

                <!-- Para Produtores -->
                <div class="funciona-card">
                    <div class="funciona-icon">
                        <i class="fas fa-seedling"></i>
                    </div>
                    <h3>Para Produtores</h3>
                    <p class="funciona-subtitle">Quero produzir de forma sustentável em terras arrendadas</p>
                    <ul class="funciona-steps">
                        <li><span class="step-number">1</span> Encontre terras disponíveis para seu projeto de agricultura regenerativa</li>
                        <li><span class="step-number">2</span> Submeta seu projeto detalhado com práticas sustentáveis</li>
                        <li><span class="step-number">3</span> Receba financiamento de investidores e inicie sua produção com nosso suporte</li>
                    </ul>
                    <a href="pages/intro-projeto.html" class="btn btn-primary">Cadastrar Projeto</a>
                </div>

                <!-- Para Investidores -->
                <div class="funciona-card">
                    <div class="funciona-icon">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <h3>Para Investidores</h3>
                    <p class="funciona-subtitle">Quero investir em projetos de agricultura regenerativa</p>
                    <ul class="funciona-steps">
                        <li><span class="step-number">1</span> Explore projetos de agricultura sustentável no mural de projetos</li>
                        <li><span class="step-number">2</span> Escolha quanto investir através do sistema de cotas acessíveis</li>
                        <li><span class="step-number">3</span> Acompanhe o desenvolvimento e receba retornos de projetos certificados</li>
                    </ul>
                    <a href="pages/intro-investidor.html" class="btn btn-primary">Quero Investir</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Terras Disponíveis -->
    <section class="terras" id="terras">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Terras Disponíveis</h2>
                <div class="terras-filters">
                    <input type="text" placeholder="Filtrar Terras" class="filter-input">
                    <select class="filter-select">
                        <option value="">Tipos</option>
                        <option value="fazenda">Fazenda</option>
                        <option value="sitio">Sítio</option>
                        <option value="chacara">Chácara</option>
                    </select>
                </div>
            </div>

            <div class="terras-grid" id="terras-grid">
                <!-- Cards serão carregados dinamicamente da API -->
                <div class="loading-message">
                    <i class="fas fa-spinner fa-spin"></i> Carregando terras disponíveis...
                </div>
            </div>

            <div class="section-footer">
                <a href="#" class="btn btn-outline">Ver todas as Terras</a>
            </div>
        </div>
    </section>

    <!-- Mural de Projetos -->
    <section class="projetos" id="projetos">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Mural de Projetos</h2>
                <div class="projetos-filters">
                    <select class="filter-select">
                        <option value="">Produtividade</option>
                    </select>
                    <input type="text" placeholder="R$ 100.000,00" class="filter-input">
                    <label class="filter-checkbox">
                        <input type="checkbox"> Certificado
                    </label>
                </div>
            </div>

            <div class="projetos-grid" id="projetos-grid">
                <!-- Cards serão carregados dinamicamente da API -->
                <div class="loading-message">
                    <i class="fas fa-spinner fa-spin"></i> Carregando projetos...
                </div>
            </div>

            <div class="section-footer">
                <a href="#" class="btn btn-outline">Ver todos os Projetos</a>
                <a href="#" class="btn btn-primary">+ Submeter Meu Projeto</a>
            </div>
        </div>
    </section>

    <!-- Simulador -->
    <section class="simulador" id="simulador">
        <div class="container">
            <h2 class="section-title">Simulador de Retorno Produtivo</h2>
            <div style="background: linear-gradient(135deg, #fff3e0 0%, #fff 100%); border-left: 4px solid #EC6618; padding: 12px 20px; border-radius: 0 8px 8px 0; margin-bottom: 30px; max-width: 600px; margin-left: auto; margin-right: auto;">
                <p style="margin: 0; font-size: 14px; color: #374151; display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-tools" style="color: #EC6618;"></i>
                    <span><strong>Em desenvolvimento:</strong> Este simulador está em fase de aprimoramento. Os valores são estimativas ilustrativas.</span>
                </p>
            </div>

            <div class="simulador-grid">
                <div class="simulador-form">
                    <div class="form-group">
                        <label for="investimento">Valor do Investimento:</label>
                        <div class="input-prefix">
                            <span>R$</span>
                            <input type="number" id="investimento" value="50000" min="1000" step="1000">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="taxa">Prazo do investimento:</label>
                        <div class="periodo-options">
                            <button class="periodo-btn" data-meses="12">1 ano</button>
                            <button class="periodo-btn active" data-meses="24">2 anos</button>
                            <button class="periodo-btn" data-meses="36">3 anos</button>
                            <button class="periodo-btn" data-meses="60">5 anos</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="tipo">Tipo de projeto:</label>
                        <select id="tipo" class="form-select">
                            <option value="18">Grãos Orgânicos (18% a.a.)</option>
                            <option value="15">Agrofloresta (15% a.a.)</option>
                            <option value="16">Pecuária Regenerativa (16% a.a.)</option>
                        </select>
                    </div>

                    <button class="btn btn-primary btn-block" id="calcularBtn">
                        <i class="fas fa-calculator"></i> Calcular Rendimento
                    </button>
                </div>

                <div class="simulador-resultado">
                    <h3>Resultado da Simulação</h3>
                    <div class="resultado-card">
                        <div class="resultado-item">
                            <span class="resultado-label">Investimento inicial</span>
                            <span class="resultado-value" id="resultInvestimento">R$ 50.000,00</span>
                        </div>
                        <div class="resultado-item">
                            <span class="resultado-label">Taxa de retorno anual</span>
                            <span class="resultado-value" id="resultTaxa">18%</span>
                        </div>
                        <div class="resultado-item">
                            <span class="resultado-label">Período</span>
                            <span class="resultado-value" id="resultPeriodo">24 meses</span>
                        </div>
                        <hr>
                        <div class="resultado-item destaque">
                            <span class="resultado-label">Rendimento total</span>
                            <span class="resultado-value verde" id="resultRendimento">R$ 18.000,00</span>
                        </div>
                        <div class="resultado-item destaque">
                            <span class="resultado-label">Valor final</span>
                            <span class="resultado-value verde" id="resultFinal">R$ 68.000,00</span>
                        </div>
                    </div>
                    <p class="disclaimer">Este simulador é apenas uma estimativa. Os rendimentos reais podem variar de acordo com o desempenho do projeto.</p>
                    <a href="#projetos" class="btn btn-outline">Ver Projetos Disponíveis</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Selo -->
    <section class="selo" id="selo">
        <div class="selo-background"></div>
        <div class="container">
            <div class="selo-grid">
                <div class="selo-content">
                    <span class="selo-tag">Selo</span>
                    <h2 class="selo-title"><span class="titulo-renova">renova</span><br><span class="titulo-campo">campo</span></h2>
                    <p>Nosso selo certifica que o projeto segue práticas de agricultura regenerativa.</p>
                    <a href="#" class="btn btn-outline-orange">Saiba mais sobre o selo</a>

                    <div class="selo-badge">
                        <img src="imagens/selo renova campo.png" alt="Selo Renova Campo">
                    </div>
                </div>

                <div class="selo-benefits">
                    <div class="benefits-card">
                        <div class="benefit-item">
                            <div class="benefit-check">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="benefit-text">
                                <h4>Conservação do Solo</h4>
                                <p>Práticas que preservam e regeneram a saúde do solo.</p>
                            </div>
                        </div>

                        <div class="benefit-item">
                            <div class="benefit-check">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="benefit-text">
                                <h4>Gestão Responsável da Água</h4>
                                <p>Uso eficiente dos recursos hídricos e proteção de nascentes e cursos d'água.</p>
                            </div>
                        </div>

                        <div class="benefit-item">
                            <div class="benefit-check">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="benefit-text">
                                <h4>Impacto Social Positivo</h4>
                                <p>Condições justas de trabalho e desenvolvimento das comunidades locais.</p>
                            </div>
                        </div>

                        <div class="benefit-item">
                            <div class="benefit-check">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="benefit-text">
                                <h4>Biodiversidade</h4>
                                <p>Promoção da diversidade de espécies vegetais e animais no sistema produtivo.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Depoimentos -->
    <section class="depoimentos" id="depoimentos">
        <div class="container">
            <h2 class="section-title">O Que Dizem Nossos Clientes</h2>
            <p class="section-subtitle">Conheça as experiências de quem já faz parte da comunidade Renova Campo que está transformando a agricultura brasileira.</p>

            <div class="depoimentos-grid">
                <div class="depoimento-card">
                    <div class="depoimento-content">
                        <p>"Minha fazenda estava improdutiva há anos. Com a Renova Campo, encontrei um produtor que implementou um sistema agroflorestal que está recuperando o solo e gerando renda. O suporte jurídico e técnico foi fundamental."</p>
                    </div>
                    <div class="depoimento-author">
                        <img src="assets/images/avatar1.jpg" alt="Marcos Santos">
                        <div class="author-info">
                            <strong>Marcos Santos</strong>
                            <span>Proprietário de Terra</span>
                        </div>
                    </div>
                    <div class="depoimento-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                </div>

                <div class="depoimento-card">
                    <div class="depoimento-content">
                        <p>"Como produtora orgânica, sempre tive dificuldade em encontrar terras adequadas para expandir. A plataforma me conectou com um proprietário que compartilha dos mesmos valores de sustentabilidade, e o processo foi simples."</p>
                    </div>
                    <div class="depoimento-author">
                        <img src="assets/images/avatar2.jpg" alt="Ana Rodrigues">
                        <div class="author-info">
                            <strong>Ana Rodrigues</strong>
                            <span>Produtora Rural</span>
                        </div>
                    </div>
                    <div class="depoimento-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                </div>

                <div class="depoimento-card">
                    <div class="depoimento-content">
                        <p>"Com o Renova Campo consigo investir meu dinheiro de uma maneira segura, sem precisar saber sobre cultivo ou agricultura. E ainda ajudo minha sociedade com um projeto relevante. 10/10"</p>
                    </div>
                    <div class="depoimento-author">
                        <img src="assets/images/avatar3.jpg" alt="Daniel Duarte">
                        <div class="author-info">
                            <strong>Daniel Duarte</strong>
                            <span>Investidor</span>
                        </div>
                    </div>
                    <div class="depoimento-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" id="parcerias">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <a href="#" class="footer-logo">
                        <img src="imagens/Logo front end rodape.jpeg" alt="Renova Campo" class="footer-logo-img">
                    </a>
                    <p>Conectando proprietários de terras, produtores e investidores para uma agricultura regenerativa e sustentável.</p>
                </div>

                <div class="footer-links">
                    <h4>Menu</h4>
                    <ul>
                        <li><a href="#como-funciona">Como Funciona</a></li>
                        <li><a href="#terras">Terras Disponíveis</a></li>
                        <li><a href="#projetos">Mural de Projetos</a></li>
                        <li><a href="#simulador">Simulador</a></li>
                        <li><a href="#selo">Selo</a></li>
                        <li><a href="#depoimentos">Depoimentos</a></li>
                        <li><a href="#parcerias">Parcerias</a></li>
                    </ul>
                </div>

                <div class="footer-links">
                    <h4>Cadastro</h4>
                    <ul>
                        <li><a href="pages/cadastro-terra.html">Cadastro Propriedades</a></li>
                        <li><a href="pages/cadastro-projeto.html">Cadastro Projetos</a></li>
                        <li><a href="#simulador">Simulador de Retorno</a></li>
                        <li><a href="pages/cadastro-investidor.html">Investir Agora</a></li>
                        <li><a href="#selo">Benefícios</a></li>
                    </ul>
                </div>

                <div class="footer-links">
                    <h4>Suporte</h4>
                    <ul>
                        <li><a href="#">Central de Ajuda</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Contato</a></li>
                        <li><a href="#">Política de Privacidade</a></li>
                        <li><a href="#">Termos de Uso</a></li>
                    </ul>
                </div>

                <div class="footer-contact">
                    <h4>Contato</h4>
                    <ul class="contact-list">
                        <li><i class="fas fa-map-marker-alt"></i> Av. Paulista, 1000, São Paulo - SP</li>
                        <li><i class="fas fa-envelope"></i> contato@renovacampo.com.br</li>
                        <li><i class="fas fa-phone"></i> (11) 9 8448-9104</li>
                    </ul>

                    <h4>Nossas Redes</h4>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://wa.me/5511984489104" target="_blank"><i class="fab fa-whatsapp"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>

                    <h4>Assine nossa newsletter</h4>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Seu e-mail">
                        <button type="submit"><i class="fas fa-arrow-right"></i></button>
                    </form>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2025 Renova Campo. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts de API -->
    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/form-mappers.js"></script>

    <script src="js/main.js"></script>

    <!-- Carrossel Hero -->
    <script>
    (function() {
        var currentSlide = 0;
        var slides = document.querySelectorAll('.carousel-slide');
        var indicators = document.querySelectorAll('.carousel-indicators .indicator');
        var total = slides.length;

        if (total === 0) return;

        function showSlide(n) {
            for (var i = 0; i < total; i++) {
                slides[i].style.opacity = '0';
                if (indicators[i]) indicators[i].classList.remove('active');
            }
            slides[n].style.opacity = '1';
            if (indicators[n]) indicators[n].classList.add('active');
            currentSlide = n;
        }

        function nextSlide() {
            showSlide((currentSlide + 1) % total);
        }

        // Clique nos indicadores
        for (var i = 0; i < indicators.length; i++) {
            (function(index) {
                indicators[index].onclick = function() { showSlide(index); };
            })(i);
        }

        // Iniciar
        showSlide(0);

        // Auto-play
        setInterval(nextSlide, 4000);
    })();
    </script>

    <!-- Script para carregar dados dinamicos -->
    <script>
        // Carregar terras disponiveis do backend (apenas aprovadas)
        async function loadTerras() {
            const grid = document.getElementById('terras-grid');
            try {
                // Busca apenas propriedades aprovadas pela equipe
                const properties = await PropertyService.getApproved();

                if (properties.length === 0) {
                    grid.innerHTML = `
                        <div class="empty-message" style="grid-column: 1/-1; text-align: center; padding: 3rem; color: #64748b;">
                            <i class="fas fa-seedling" style="font-size: 3rem; margin-bottom: 1rem; color: #014C34;"></i>
                            <h3>Nenhuma terra disponível no momento</h3>
                            <p>Em breve teremos novas oportunidades. Cadastre-se para ser notificado!</p>
                        </div>`;
                    return;
                }

                grid.innerHTML = properties.map(prop => createTerraCard(prop)).join('');
            } catch (error) {
                console.error('Erro ao carregar terras:', error);
                grid.innerHTML = `
                    <div class="error-message" style="grid-column: 1/-1; text-align: center; padding: 2rem; color: #ef4444;">
                        <i class="fas fa-exclamation-triangle"></i> Erro ao carregar terras. Tente novamente mais tarde.
                    </div>`;
            }
        }

        // Criar card de terra
        function createTerraCard(prop) {
            const photoUrl = `${CONFIG.API_BASE_URL}/api/v1/photos/property/${prop.id}/thumbnail`;
            const defaultImg = 'imagens/imagens gerais/terra-placeholder.jpg';

            return `
                <div class="terra-card">
                    <div class="terra-image">
                        <img src="${photoUrl}" alt="${prop.name}" onerror="this.src='${defaultImg}'">
                        <span class="terra-badge disponivel">Disponível</span>
                    </div>
                    <div class="terra-content">
                        <h3>${prop.name}</h3>
                        <p class="terra-location"><i class="fas fa-map-marker-alt"></i> ${prop.city || 'Não informado'}, ${prop.state || ''}</p>
                        <p class="terra-description">${prop.description || 'Propriedade disponível para arrendamento.'}</p>
                        <div class="terra-tags">
                            <span class="tag"><i class="fas fa-ruler-combined"></i> ${prop.type || 'Rural'}</span>
                        </div>
                        <div class="terra-footer">
                            <div class="terra-info">
                                <span class="terra-size"><strong>${prop.totalArea || 0}</strong> hectares</span>
                                ${prop.availableArea ? `<span class="terra-available"><strong>${prop.availableArea}</strong> ha disponíveis</span>` : ''}
                            </div>
                            <a href="pages/detalhes-terra.html?id=${prop.id}" class="btn btn-sm btn-primary">Ver Detalhes</a>
                        </div>
                    </div>
                </div>`;
        }

        // Carregar projetos/empreendimentos do backend
        async function loadProjetos() {
            const grid = document.getElementById('projetos-grid');
            try {
                const enterprises = await EnterpriseService.getAll();

                if (enterprises.length === 0) {
                    grid.innerHTML = `
                        <div class="empty-message" style="grid-column: 1/-1; text-align: center; padding: 3rem; color: #64748b;">
                            <i class="fas fa-project-diagram" style="font-size: 3rem; margin-bottom: 1rem; color: #014C34;"></i>
                            <h3>Nenhum projeto disponível no momento</h3>
                            <p>Novos projetos serão lançados em breve. Fique atento!</p>
                            <a href="pages/cadastro-projeto.html" class="btn btn-primary" style="margin-top: 1rem;">Submeter Meu Projeto</a>
                        </div>`;
                    return;
                }

                grid.innerHTML = enterprises.map(ent => createProjetoCard(ent)).join('');
            } catch (error) {
                console.error('Erro ao carregar projetos:', error);
                grid.innerHTML = `
                    <div class="error-message" style="grid-column: 1/-1; text-align: center; padding: 2rem; color: #ef4444;">
                        <i class="fas fa-exclamation-triangle"></i> Erro ao carregar projetos. Tente novamente mais tarde.
                    </div>`;
            }
        }

        // Criar card de projeto/empreendimento
        function createProjetoCard(ent) {
            const progress = ent.fundingProgress || 0;
            const investRequired = ent.totalInvestmentRequired || 0;
            const returnRate = ent.expectedCommodityValueIncrease || 0;

            // Usar foto da propriedade vinculada se disponivel
            const photoUrl = ent.propertyId
                ? `${CONFIG.API_BASE_URL}/api/v1/photos/property/${ent.propertyId}/thumbnail`
                : 'imagens/imagens gerais/projeto-placeholder.jpg';

            return `
                <div class="projeto-card">
                    <div class="projeto-image">
                        <img src="${photoUrl}" alt="${ent.name}" onerror="this.src='imagens/imagens gerais/projeto-placeholder.jpg'">
                        ${ent.status === 'ACTIVE' ? '<span class="projeto-badge certificado"><i class="fas fa-check-circle"></i> Ativo</span>' : ''}
                    </div>
                    <div class="projeto-content">
                        <h3>${ent.name}</h3>
                        <p>${ent.description || 'Empreendimento sustentável com foco em agricultura regenerativa.'}</p>

                        <div class="projeto-financeiro">
                            <div class="financeiro-item">
                                <span class="label">Investimento necessário</span>
                                <span class="value">R$ ${investRequired.toLocaleString('pt-BR')}</span>
                            </div>
                            <div class="financeiro-item">
                                <span class="label">Retorno estimado</span>
                                <span class="value highlight">${returnRate}%</span>
                            </div>
                        </div>

                        <div class="projeto-progress">
                            <div class="progress-header">
                                <span>Progresso de captação</span>
                                <span class="progress-percent">${progress.toFixed(0)}%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${progress}%"></div>
                            </div>
                        </div>

                        <a href="pages/detalhes-empreendimento.html?id=${ent.id}" class="btn btn-primary btn-block">Investir Agora</a>
                    </div>
                </div>`;
        }

        // Carregar dados quando a pagina carregar
        document.addEventListener('DOMContentLoaded', function() {
            loadTerras();
            loadProjetos();

            // Mobile Menu Toggle
            const menuToggle = document.getElementById('menuToggle');
            const mobileMenu = document.getElementById('mobileMenu');

            if (menuToggle && mobileMenu) {
                menuToggle.addEventListener('click', function() {
                    mobileMenu.classList.toggle('active');
                    // Trocar icone
                    const icon = menuToggle.querySelector('i');
                    if (mobileMenu.classList.contains('active')) {
                        icon.classList.remove('fa-bars');
                        icon.classList.add('fa-times');
                    } else {
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    }
                });

                // Fechar menu ao clicar em um link
                mobileMenu.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', function() {
                        mobileMenu.classList.remove('active');
                        const icon = menuToggle.querySelector('i');
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    });
                });
            }
        });
    </script>
</body>
</html>
