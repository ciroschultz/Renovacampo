<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Renova Campo — Formulário de Investidor</title>
  <style>
    :root{
      --verde:#2e7d32;
      --accent:#2b8a3e;
      --verde-esc:#256628;
      --bg:#f7f9f8;
      --card:#ffffff;
      --muted:#666;
      --maxw:980px;
      --radius:12px;
      --gap:12px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    }
    html,body{height:100%;margin:0;background:var(--bg);color:#123;}
    .container{max-width:var(--maxw);margin:28px auto;padding:20px}
    header.app-header{display:flex;gap:20px;align-items:center;margin-bottom:12px}
    .logo{background:var(--card);padding:8px 12px;border-radius:14px;box-shadow:0 6px 18px rgba(10,20,10,0.06);display:flex;align-items:center}
    .logo img{height:62px;display:block}
    .title-block{flex:1;display:flex;flex-direction:column;justify-content:center;gap:6px}
    .title-block h1{margin:0;font-size:20px;color:var(--verde)}
    .title-block p.lead{margin:0;color:var(--muted);font-size:13px}
    .card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 20px rgba(10,10,10,0.06)}
    .steps{display:flex;gap:8px;margin-bottom:14px;flex-wrap:wrap}
    .step-pill{padding:8px 10px;border-radius:999px;background:#eef6ee;color:var(--muted);font-size:13px;cursor:pointer}
    .step-pill.active{background:linear-gradient(180deg,#eaf8ea,#e3f5e3);color:var(--verde);box-shadow:0 4px 8px rgba(46,125,50,0.06)}
    .progress{height:10px;background:#e6efe6;border-radius:999px;overflow:hidden;margin:12px 0;position:relative}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#60bd6b);width:0%;transition:width .36s ease}
    .progress-text{font-size:13px;color:var(--muted);margin-bottom:8px}
    form{margin-top:6px}
    fieldset{border:0;padding:0;margin:0;display:none;opacity:0;transform:translateY(6px);transition:opacity .28s ease, transform .28s ease}
    fieldset.active{display:block;opacity:1;transform:none}
    legend.section-title{font-size:18px;color:var(--verde);margin:0 0 10px 0;font-weight:700}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:var(--gap)}
    .full{grid-column:1/-1}
    label{display:block;font-size:13px;color:#2b2b2b;margin-bottom:6px;font-weight:600}
    input[type="text"], input[type="email"], input[type="tel"], input[type="number"], input[type="date"], select, textarea{
      width:100%;padding:10px 12px;border-radius:8px;border:1px solid #e3e7e3;background:#fff;box-sizing:border-box;font-size:14px;color:#222
    }
    textarea{min-height:110px;resize:vertical;padding-top:12px}
    .muted{font-size:13px;color:var(--muted);margin-top:6px}
    .actions{display:flex;justify-content:space-between;align-items:center;margin-top:20px;gap:12px}
    .btn{background:var(--verde);color:#fff;border:0;padding:10px 18px;border-radius:10px;cursor:pointer;font-weight:700;box-shadow:0 6px 16px rgba(46,125,50,0.14)}
    .btn.secondary{background:#fff;color:var(--verde);border:1px solid #e6efe6}
    .btn:disabled{opacity:.5;cursor:not-allowed}
    .step-indicator{font-size:13px;color:var(--muted)}
    .tooltip{display:inline-block;position:relative;margin-left:8px;color:var(--muted);cursor:help}
    .tooltip .tiptext{visibility:hidden;opacity:0;width:260px;background:#fff;border:1px solid #e3e7e3;padding:8px;border-radius:8px;position:absolute;z-index:20;left:0;top:26px;box-shadow:0 6px 18px rgba(0,0,0,0.06);font-size:13px;color:#222;transition:opacity .18s}
    .tooltip:hover .tiptext{visibility:visible;opacity:1}
    .file-list{font-size:13px;color:var(--muted);margin-top:10px}
    .note{font-size:13px;color:var(--muted);margin-top:6px}
    footer{margin-top:14px;text-align:center;color:var(--muted);font-size:13px}
    @media (max-width:820px){.grid{grid-template-columns:1fr}.logo img{height:54px}.title-block h1{font-size:16px}}
  </style>
</head>
<body>
  <div class="container">
    <header class="app-header">
      <div class="logo" aria-hidden="true"><img src="Captura de tela 2025-10-07 210445.png" alt="Logo Renova Campo"></div>
      <div class="title-block">
        <h1>Renova Campo — Formulário de Investidor</h1>
        <p class="lead">Aporte de capital e participação em projetos sustentáveis, regenerativos e de crédito de carbono.</p>
      </div>
    </header>

    <section class="card" aria-labelledby="formTitle">
      <div class="steps" aria-hidden="true">
        <div class="step-pill">1 Identificação</div>
        <div class="step-pill">2 Perfil de Investimento</div>
        <div class="step-pill">3 Preferências de Projetos</div>
        <div class="step-pill">4 Critérios ESG</div>
        <div class="step-pill">5 Monetização & Carbono</div>
        <div class="step-pill">6 Legal & Compliance</div>
        <div class="step-pill">7 Anexos & Declaração</div>
      </div>

      <div class="progress-text" id="progressText">Etapa 1 de 7 — 0% concluído</div>
      <div class="progress" aria-hidden="true"><i id="progressBar" style="width:0%"></i></div>

      <form id="investorForm" enctype="multipart/form-data" novalidate>

        <!-- STEP 1 -->
        <fieldset class="active" data-step="1">
          <legend class="section-title">1. Identificação</legend>
          <div class="grid">
            <div>
              <label for="nome">Nome completo / Razão social <span style="color:#a00">*</span></label>
              <input id="nome" name="nome" type="text" required>
            </div>
            <div>
              <label for="cpfcnpj">CPF / CNPJ <span style="color:#a00">*</span></label>
              <input id="cpfcnpj" name="cpfcnpj" type="text" required placeholder="000.000.000-00 ou 00.000.000/0000-00">
            </div>

            <div>
              <label for="tipoInvestidor">Tipo de investidor</label>
              <select id="tipoInvestidor" name="tipoInvestidor">
                <option>Pessoa Física</option><option>Empresa</option><option>Fundo</option><option>Institucional</option>
              </select>
            </div>
            <div>
              <label for="representante">Representante legal (se aplicável)</label>
              <input id="representante" name="representante" type="text" placeholder="Nome do representante">
            </div>

            <div class="full">
              <label for="endereco">Endereço (cidade / UF)</label>
              <input id="endereco" name="endereco" type="text" placeholder="Ex: São Paulo - SP">
            </div>

            <div>
              <label for="telefone">Telefone / WhatsApp <span style="color:#a00">*</span></label>
              <input id="telefone" name="telefone" type="tel" required placeholder="(99) 9 9999-9999">
            </div>
            <div>
              <label for="email">E-mail <span style="color:#a00">*</span></label>
              <input id="email" name="email" type="email" required placeholder="contato@exemplo.com">
            </div>

            <div>
              <label for="pais">País</label>
              <input id="pais" name="pais" type="text" placeholder="Brasil">
            </div>
            <div>
              <label for="ramo">Ramo / setor de atuação</label>
              <input id="ramo" name="ramo" type="text" placeholder="Ex: Indústria, Varejo, Financeiro">
            </div>
          </div>

          <div class="actions">
            <div class="step-indicator">Passo 1 de 7</div>
            <div><button type="button" class="btn" onclick="nextStep()">Próximo →</button></div>
          </div>
        </fieldset>

        <!-- STEP 2 -->
        <fieldset data-step="2">
          <legend class="section-title">2. Perfil de Investimento</legend>
          <div class="grid">
            <div>
              <label for="valorMin">Valor mínimo disponível (R$)</label>
              <input id="valorMin" name="valorMin" type="text" placeholder="R$ 0,00">
            </div>
            <div>
              <label for="valorMax">Valor máximo disponível (R$)</label>
              <input id="valorMax" name="valorMax" type="text" placeholder="R$ 0,00">
            </div>

            <div>
              <label for="horizonte">Horizonte de investimento</label>
              <select id="horizonte" name="horizonte"><option>Curto (0-2 anos)</option><option>Médio (3-7 anos)</option><option>Longo (8+ anos)</option></select>
            </div>
            <div>
              <label for="tipoRetorno">Tipo de retorno desejado</label>
              <select id="tipoRetorno" name="tipoRetorno"><option>Financeiro</option><option>Socioambiental</option><option>Misto</option></select>
            </div>

            <div>
              <label for="risco">Grau de risco aceitável</label>
              <select id="risco" name="risco"><option>Baixo</option><option>Médio</option><option>Alto</option></select>
            </div>
            <div>
              <label for="expectativaRetorno">Expectativa de retorno anual (%)</label>
              <input id="expectativaRetorno" name="expectativaRetorno" type="number" step="0.1" placeholder="Ex: 8.5">
            </div>

            <div class="full">
              <label for="retornoRazoavel">O que considera um retorno razoável?</label>
              <textarea id="retornoRazoavel" name="retornoRazoavel" placeholder="Explique sua expectativa (ex: 6-10% a.a., mais co-benefícios...)"></textarea>
            </div>
          </div>

          <div class="actions">
            <div class="step-indicator">Passo 2 de 7</div>
            <div><button type="button" class="btn secondary" onclick="prevStep()">← Anterior</button><button type="button" class="btn" onclick="nextStep()">Próximo →</button></div>
          </div>
        </fieldset>

        <!-- STEP 3 -->
        <fieldset data-step="3">
          <legend class="section-title">3. Preferências de Projetos</legend>
          <div class="grid">
            <div class="full">
              <label for="tiposProjeto">Tipos de projeto de interesse</label>
              <select id="tiposProjeto" name="tiposProjeto" multiple size="5">
                <option>Agroflorestal</option><option>Reflorestamento</option><option>Regenerativo</option>
                <option>Agroenergia</option><option>Captura de carbono pelo solo</option><option>Silvicultura</option>
              </select>
              <div class="note">Use Ctrl/Cmd+Clique para selecionar múltiplas opções.</div>
            </div>

            <div>
              <label for="regioesInteresse">Regiões de interesse</label>
              <select id="regioesInteresse" name="regioesInteresse" multiple size="5">
                <option>Norte</option><option>Nordeste</option><option>Centro-Oeste</option>
                <option>Sudeste</option><option>Sul</option>
              </select>
            </div>
            <div>
              <label for="tamanhoMin">Tamanho mínimo de projeto (ha)</label>
              <input id="tamanhoMin" name="tamanhoMin" type="number" step="0.1" min="0">
            </div>

            <div>
              <label for="envolvimento">Nível de envolvimento desejado</label>
              <select id="envolvimento" name="envolvimento"><option>Apenas aporte</option><option>Co-gestão</option><option>Parceiro técnico</option></select>
            </div>

            <div class="full">
              <label for="criteriosAdicionais">Critérios adicionais (ex.: impacto social, geração de empregos)</label>
              <textarea id="criteriosAdicionais" name="criteriosAdicionais"></textarea>
            </div>
          </div>

          <div class="actions">
            <div class="step-indicator">Passo 3 de 7</div>
            <div><button type="button" class="btn secondary" onclick="prevStep()">← Anterior</button><button type="button" class="btn" onclick="nextStep()">Próximo →</button></div>
          </div>
        </fieldset>

        <!-- STEP 4 -->
        <fieldset data-step="4">
          <legend class="section-title">4. Critérios Socioambientais / ESG</legend>
          <div class="grid">
            <div class="full">
              <label for="metasESG">Principais metas ESG que busca atingir</label>
              <textarea id="metasESG" name="metasESG" placeholder="Ex: redução de emissões, restauração de áreas, inclusão social"></textarea>
            </div>

            <div>
              <label for="certificacoesReq">Certificações exigidas</label>
              <input id="certificacoesReq" name="certificacoesReq" type="text" placeholder="Verra, Gold Standard, I-REC...">
            </div>
            <div>
              <label for="cobeneficios">Co-benefícios desejados</label>
              <input id="cobeneficios" name="cobeneficios" type="text" placeholder="Biodiversidade, emprego local, água...">
            </div>

            <div class="full">
              <label for="politicaSustent">Política interna de sustentabilidade (upload)</label>
              <input id="politicaSustent" name="politicaSustent" type="file" accept=".pdf,.doc,.docx">
            </div>

            <div>
              <label for="compromissoLongo">Compromisso mínimo desejado (anos)</label>
              <input id="compromissoLongo" name="compromissoLongo" type="number" min="0">
            </div>
            <div>
              <label for="relatorios">Frequência de relatórios desejada</label>
              <select id="relatorios" name="relatorios"><option>Mensal</option><option>Trimestral</option><option>Anual</option></select>
            </div>
          </div>

          <div class="actions">
            <div class="step-indicator">Passo 4 de 7</div>
            <div><button type="button" class="btn secondary" onclick="prevStep()">← Anterior</button><button type="button" class="btn" onclick="nextStep()">Próximo →</button></div>
          </div>
        </fieldset>

        <!-- STEP 5 -->
        <fieldset data-step="5">
          <legend class="section-title">5. Monetização &amp; Créditos de Carbono</legend>
          <div class="grid">
            <div>
              <label for="interesseCarbono">Interesse em projetos de captura de carbono?</label>
              <select id="interesseCarbono" name="interesseCarbono"><option>Não</option><option>Sim - solo</option><option>Sim - florestal</option><option>Sim - agroflorestal</option><option>Sim - biochar</option></select>
            </div>
            <div>
              <label for="acaoCarbono">Pretende adquirir créditos, financiar projetos ou ambos?</label>
              <select id="acaoCarbono" name="acaoCarbono"><option>Adquirir</option><option>Financiar</option><option>Ambos</option></select>
            </div>

            <div>
              <label for="metodoVenda">Preferência de monetização</label>
              <select id="metodoVenda" name="metodoVenda"><option>Venda no mercado voluntário</option><option>Uso próprio (neutralização)</option><option>Participação nos lucros</option></select>
            </div>
            <div>
              <label for="retornoPorT">Retorno esperado por tCO₂e (R$)</label>
              <input id="retornoPorT" name="retornoPorT" type="number" step="0.01" placeholder="Ex: 50.00">
            </div>

            <div class="full">
              <label for="mrv">Está disposto a financiar MRV (monitoramento, reporte e verificação)?</label>
              <select id="mrv" name="mrv"><option>Não</option><option>Sim - parcialmente</option><option>Sim - integralmente</option></select>
            </div>

            <div class="full">
              <label for="riscosCarbono">Percepção de riscos e tolerância (reversão, permanência, custos de verificação)</label>
              <textarea id="riscosCarbono" name="riscosCarbono" placeholder="Descreva seu entendimento e tolerância a riscos"></textarea>
            </div>

            <div class="full">
              <label for="prazoGarantia">Prazo mínimo de garantia / permanência desejado (anos)</label>
              <input id="prazoGarantia" name="prazoGarantia" type="number" min="0">
            </div>
          </div>

          <div class="actions">
            <div class="step-indicator">Passo 5 de 7</div>
            <div><button type="button" class="btn secondary" onclick="prevStep()">← Anterior</button><button type="button" class="btn" onclick="nextStep()">Próximo →</button></div>
          </div>
        </fieldset>

        <!-- STEP 6 -->
        <fieldset data-step="6">
          <legend class="section-title">6. Aspectos Legais &amp; Compliance</legend>
          <div class="grid">
            <div class="full">
              <label for="docsDisponiveis">Documentação disponível (títulos, contratos, políticas)</label>
              <textarea id="docsDisponiveis" name="docsDisponiveis"></textarea>
            </div>
            <div>
              <label for="dueDiligence">Requisitos de due diligence</label>
              <textarea id="dueDiligence" name="dueDiligence"></textarea>
            </div>
            <div>
              <label for="restricoesLocais">Restrições quanto a locais/biomas</label>
              <input id="restricoesLocais" name="restricoesLocais" type="text" placeholder="Ex: não investimos na Amazônia">
            </div>

            <div class="full">
              <label for="contaPagamento">Dados bancários / instruções para pagamento (opcional)</label>
              <input id="contaPagamento" name="contaPagamento" type="text" placeholder="Banco, agência, conta (ou instruções)">
            </div>
          </div>

          <div class="actions">
            <div class="step-indicator">Passo 6 de 7</div>
            <div><button type="button" class="btn secondary" onclick="prevStep()">← Anterior</button><button type="button" class="btn" onclick="nextStep()">Próximo →</button></div>
          </div>
        </fieldset>

        <!-- STEP 7 -->
        <fieldset data-step="7">
          <legend class="section-title">7. Anexos &amp; Declaração</legend>
          <div class="grid">
            <div class="full">
              <label for="anexoDocs">Envio de documentos adicionais (contratos, políticas, laudos)</label>
              <input id="anexoDocs" name="anexoDocs" type="file" accept=".pdf,.doc,.docx" multiple>
              <div class="file-list" id="fileListAnexos">Nenhum arquivo selecionado</div>
            </div>

            <div class="full">
              <label><input id="declaraInvest" name="declaraInvest" type="checkbox" required> &nbsp;Declaro que as informações prestadas são verdadeiras e autorizo a Renova Campo a contatar e realizar due diligence.</label>
            </div>

            <div class="full">
              <label for="observacoesInvest">Observações finais</label>
              <textarea id="observacoesInvest" name="observacoesInvest"></textarea>
            </div>
          </div>

          <div class="actions">
            <div class="step-indicator">Passo 7 de 7</div>
            <div><button type="button" class="btn secondary" onclick="prevStep()">← Anterior</button><button type="button" class="btn" onclick="finalizeForm()">Enviar e Baixar CSV</button></div>
          </div>
        </fieldset>

      </form>

      <div id="successBox" class="card" style="display:none;margin-top:14px;border:1px solid #e6f6e6;background:linear-gradient(180deg,#eaf7ed,#ffffff);text-align:center;padding:18px;color:var(--verde);font-weight:700">
        ✅ Cadastro enviado com sucesso! Nossa equipe entrará em contato em breve.
      </div>

    </section>

    <footer>Renova Campo · Transformando terras ociosas em oportunidades sustentáveis</footer>
  </div>

  <script>
    (function(){
      const form = document.getElementById('investorForm');
      const steps = Array.from(form.querySelectorAll('fieldset'));
      const pills = Array.from(document.querySelectorAll('.step-pill'));
      const total = steps.length;
      let current = 0;
      const progressBar = document.getElementById('progressBar');
      const progressText = document.getElementById('progressText');
      const fileInput = document.getElementById('anexoDocs');
      const fileListAnexos = document.getElementById('fileListAnexos');

      function updateProgress(){
        const pct = Math.round(((current) / (total - 1)) * 100);
        progressBar.style.width = pct + '%';
        progressText.textContent = `Etapa ${current+1} de ${total} — ${pct}% concluído`;
      }

      function updatePills(){
        pills.forEach((p,i)=> p.classList.toggle('active', i===current));
      }

      function showStep(index){
        current = Math.max(0, Math.min(index, total-1));
        steps.forEach((fs,i)=> fs.classList.toggle('active', i === current));
        updatePills();
        updateProgress();
        const first = steps[current].querySelector('input,select,textarea,button');
        if(first) first.focus();
        window.scrollTo({top:0,behavior:'smooth'});
      }

      window.nextStep = function(){
        if(!validateStep(current)) return;
        if(current < total - 1) showStep(current + 1);
      };
      window.prevStep = function(){ if(current>0) showStep(current - 1); };

      // masks
      function maskCPF(value){
        const v = value.replace(/\D/g,'').slice(0,14);
        if(v.length<=11){
          return v.replace(/(\d{3})(\d{3})(\d{3})(\d{0,2})/,'$1.$2.$3-$4').replace(/[-.]$/,'');
        } else {
          return v.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{0,2})/,'$1.$2.$3/$4-$5').replace(/[-./]$/,'').slice(0,18);
        }
      }
      function maskPhone(v){
        const x = v.replace(/\D/g,'').slice(0,11);
        if(x.length<=10) return x.replace(/(\d{2})(\d{4})(\d{0,4})/,'($1) $2-$3').replace(/[-]$/,'');
        return x.replace(/(\d{2})(\d{5})(\d{0,4})/,'($1) $2-$3');
      }
      function maskMoney(v){
        const n = v.replace(/\D/g,'');
        if(!n) return '';
        const number = (Number(n)/100).toFixed(2);
        return 'R$ ' + number.replace(/\B(?=(\d{3})+(?!\d))/g, '.');
      }

      // attach masks
      const cpfEl = document.getElementById('cpfcnpj');
      const telEl = document.getElementById('telefone');
      const moneyIds = ['valorMin','valorMax'];
      if(cpfEl) cpfEl.addEventListener('input', e=> e.target.value = maskCPF(e.target.value));
      if(telEl) telEl.addEventListener('input', e=> e.target.value = maskPhone(e.target.value));
      moneyIds.forEach(id=>{
        const el = document.getElementById(id);
        if(el) el.addEventListener('input', e=> e.target.value = maskMoney(e.target.value));
      });

      // file preview
      if(fileInput){
        fileInput.addEventListener('change', e=>{
          const files = Array.from(e.target.files || []);
          fileListAnexos.textContent = files.length ? files.map(f => `${f.name} (${Math.round(f.size/1024)} KB)`).join(' • ') : 'Nenhum arquivo selecionado';
        });
      }

      // collect data
      function collectData(){
        const els = form.elements;
        const data = {};
        for(let i=0;i<els.length;i++){
          const el = els[i];
          if(!el.name && !el.id) continue;
          const key = el.name || el.id;
          if(el.type==='checkbox') data[key] = el.checked ? 'Sim' : 'Não';
          else if(el.type==='file') data[key] = (el.files && el.files.length) ? Array.from(el.files).map(f=>f.name).join('; ') : '';
          else if(el.multiple){
            const vals = Array.from(el.options).filter(o=>o.selected).map(o=>o.value);
            data[key] = vals.join('; ');
          } else data[key] = el.value;
        }
        data.timestamp = new Date().toISOString();
        return data;
      }

      function finalizeForm(){
        const decl = document.getElementById('declaraInvest');
        if(!decl || !decl.checked){ alert('É necessário concordar com a declaração.'); decl?.focus(); return; }
        const nome = document.getElementById('nome');
        const email = document.getElementById('email');
        if(!nome.value){ alert('Preencha seu nome.'); nome.focus(); return; }
        if(!email.value){ alert('Preencha seu e-mail.'); email.focus(); return; }

        const data = collectData();
        const headers = Object.keys(data);
        const row = headers.map(h => `"${String(data[h]||'').replace(/"/g,'""')}"`);
        const csv = headers.join(',') + '\n' + row.join(',');
        const blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
        const fname = 'renova_investidor_' + (new Date()).toISOString().slice(0,19).replace(/[:T]/g,'-') + '.csv';
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = fname;
        document.body.appendChild(link);
        link.click();
        link.remove();

        form.style.display = 'none';
        document.getElementById('successBox').style.display = 'block';
        window.scrollTo({top:0,behavior:'smooth'});
        localStorage.setItem('renova_investidor_last', JSON.stringify(data));
      }

      function validateStep(i){
        const reqs = steps[i].querySelectorAll('[required]');
        for(const el of reqs){
          if((el.type==='checkbox' && !el.checked) || (el.type!=='file' && !el.value)){
            el.scrollIntoView({behavior:'smooth',block:'center'}); el.focus(); alert('Por favor preencha os campos obrigatórios desta etapa.'); return false;
          }
        }
        return true;
      }

      // pills click nav
      pills.forEach((p, idx) => {
        p.addEventListener('click', ()=> { if(idx>current && !validateStep(current)) return; showStep(idx); });
      });

      // init
      showStep(0);
      window.nextStep = window.nextStep;
      window.prevStep = window.prevStep;
      window.finalizeForm = finalizeForm;
    })();
  </script>
</body>
</html>
